<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù†Ø¨Ø±Ø¯ Ù†Ù‡Ø§ÛŒÛŒ: Ù…ÛŒØ±Ø²Ø§Ø²Ø§Ø¯Ù‡ vs Ø§ÛŒØ²Ø¯ÙØ±</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
            background-color: #111;
            font-family: 'Arial', sans-serif;
            cursor: crosshair;
            user-select: none;
        }
        #gameCanvas {
            display: block;
            margin: 20px auto;
            background-image: url('https://www.dropbox.com/scl/fi/ldjty5aao135r47ftng7w/images.jpg?rlkey=kzsu2tbho9xg7ki2jxzlc7tq4&st=0ztw1pk8&dl=1');
            background-size: cover;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
        }
        #gameInfo {
            color: white;
            text-align: center;
            padding: 15px;
            font-size: 22px;
            background-color: rgba(0, 0, 0, 0.7);
            margin: 10px auto;
            width: 800px;
            border-radius: 10px;
        }
        .game-over {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: white;
            text-align: center;
            background-color: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 15px;
            display: none;
            z-index: 100;
            width: 500px;
            box-shadow: 0 0 30px rgba(255,255,255,0.2);
        }
        .game-over h1 {
            font-size: 42px;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        .game-over p {
            font-size: 24px;
            margin-top: 20px;
        }
        .confetti {
            position: absolute;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            z-index: 10;
        }
    </style>
</head>
<body>
    <div id="gameInfo">
        Ø³Ù„Ø§Ù…Øª Ø¨Ø§Ø²ÛŒÚ©Ù†: <span id="playerHealth">100</span> | 
        Ø³Ù„Ø§Ù…Øª Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ±: <span id="enemyHealth">100</span>
    </div>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div id="gameOver" class="game-over">
        <h1 id="resultText"></h1>
        <p>Ø¨Ø±Ø§ÛŒ Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Enter Ø±Ø§ Ø¨Ø²Ù†ÛŒØ¯</p>
    </div>

    <script>
        // Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ø²ÛŒ
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');
        const playerHealthEl = document.getElementById('playerHealth');
        const enemyHealthEl = document.getElementById('enemyHealth');
        const gameOverEl = document.getElementById('gameOver');
        const resultTextEl = document.getElementById('resultText');

        // ØªØµØ§ÙˆÛŒØ± Ø¨Ø§Ø²ÛŒ
        const images = {
            player: new Image(),
            enemy: new Image(),
            playerBullet: new Image(),
            enemyBullet: new Image(),
            background: new Image()
        };

        // Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµØ§ÙˆÛŒØ±
        images.player.src = 'https://www.dropbox.com/scl/fi/81uhhp16tvav7lroqysim/player.png?rlkey=5sfcisnzwjjyoc3jbqevt9w21&st=8ggqqfaw&dl=1';
        images.enemy.src = 'https://www.dropbox.com/scl/fi/aq7jej7lx4ivvyyn0xud0/enemy.png?rlkey=ey8qbl1lm9237aqh613fse8mw&st=6o8zsquo&dl=1';
        images.background.src = 'https://i.postimg.cc/MTmJRMGh/Versus-battle-screen-background-with-red-and-blue-bokeh-lights-design-3003.jpg';
        images.playerBullet.src = 'https://www.dropbox.com/scl/fi/xpjdral0g4vrgcp8875yh/imeages.png?rlkey=2mciz8v8tmk6crqohk2hidma3&st=5ws5212g&dl=1';
        images.enemyBullet.src = 'https://www.dropbox.com/scl/fi/l8sqidp2u3f0r0ieq7kt4/images.png?rlkey=vk07u8tpfpvt26zf353qysrli&st=umarb41p&dl=1';

        // ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒ
        const gameState = {
            player: {
                x: 100,
                y: 300,
                width: 70,
                height: 70,
                speed: 7,
                health: 100,
                bullets: [],
                lastShot: 0,
                shotDelay: 400
            },
            enemy: {
                x: 700,
                y: 300,
                width: 70,
                height: 70,
                speed: 5,
                health: 100,
                bullets: [],
                lastShot: 0,
                shotDelay: 1200,
                moveTimer: 0,
                moveInterval: 50,
                direction: 0,
                targetY: 300
            },
            keys: {},
            gameOver: false,
            confetti: [],
            lastTime: 0
        };

        // Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ú©Ù„ÛŒØ¯
        window.addEventListener('keydown', (e) => {
            const key = e.key.toLowerCase();
            gameState.keys[key] = true;
            
            // Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø§ÛŒÙ†ØªØ±
            if (key === 'enter' && gameState.gameOver) {
                restartGame();
            }
        });

        window.addEventListener('keyup', (e) => {
            const key = e.key.toLowerCase();
            gameState.keys[key] = false;
        });

        // ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒ Ø¨Ø§ Ú©Ù„ÛŒÚ© Ù…Ø§ÙˆØ³
        canvas.addEventListener('click', (e) => {
            if (!gameState.gameOver) {
                const now = Date.now();
                if (now - gameState.player.lastShot > gameState.player.shotDelay) {
                    shootPlayer();
                    gameState.player.lastShot = now;
                }
            }
        });

        function shootPlayer() {
            gameState.player.bullets.push({
                x: gameState.player.x + gameState.player.width,
                y: gameState.player.y + gameState.player.height / 2 - 15,
                width: 70,
                height: 50,
                speed: 15
            });
        }

        function shootEnemy() {
            gameState.enemy.bullets.push({
                x: gameState.enemy.x - 20,
                y: gameState.enemy.y + gameState.enemy.height / 2 - 15,
                width: 70,
                height: 50,
                speed: 12
            });
        }

        function update(timestamp) {
            if (gameState.gameOver) return;

            const deltaTime = timestamp - gameState.lastTime;
            gameState.lastTime = timestamp;

            // Ø­Ø±Ú©Øª Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø§ W Ùˆ S
            if (gameState.keys['w'] || gameState.keys['arrowup']) {
                gameState.player.y = Math.max(0, gameState.player.y - gameState.player.speed);
            }
            if (gameState.keys['s'] || gameState.keys['arrowdown']) {
                gameState.player.y = Math.min(canvas.height - gameState.player.height, 
                                           gameState.player.y + gameState.player.speed);
            }

            // Ù‡ÙˆØ´ Ù…ØµÙ†ÙˆØ¹ÛŒ Ù¾ÛŒØ´Ø±ÙØªÙ‡ Ø¨Ø±Ø§ÛŒ Ø¯Ø´Ù…Ù†
            gameState.enemy.moveTimer += deltaTime;
            
            if (gameState.enemy.moveTimer >= gameState.enemy.moveInterval) {
                gameState.enemy.moveTimer = 0;
                
                // ØªØºÛŒÛŒØ± Ù‡Ø¯Ù Ø¨Ù‡ ØµÙˆØ±Øª Ù†Ø±Ù…
                if (Math.random() < 0.3) {
                    gameState.enemy.targetY = Math.random() * (canvas.height - gameState.enemy.height);
                } else {
                    // Ø¯Ù†Ø¨Ø§Ù„ Ú©Ø±Ø¯Ù† Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ø§ Ø§Ø­ØªÙ…Ø§Ù„ Ø¨ÛŒØ´ØªØ±
                    gameState.enemy.targetY = gameState.player.y;
                }
            }

            // Ø­Ø±Ú©Øª Ù†Ø±Ù… Ø¯Ø´Ù…Ù† Ø¨Ù‡ Ø³Ù…Øª Ù‡Ø¯Ù
            const dy = gameState.enemy.targetY - gameState.enemy.y;
            gameState.enemy.y += dy * 0.05;

            // Ù…Ø­Ø¯ÙˆØ¯ Ú©Ø±Ø¯Ù† Ù…ÙˆÙ‚Ø¹ÛŒØª Ø¯Ø´Ù…Ù†
            gameState.enemy.y = Math.max(0, Math.min(canvas.height - gameState.enemy.height, gameState.enemy.y));

            // ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒ Ø¯Ø´Ù…Ù†
            const now = Date.now();
            if (now - gameState.enemy.lastShot > gameState.enemy.shotDelay) {
                const playerInLine = Math.abs(
                    (gameState.player.y + gameState.player.height/2) - 
                    (gameState.enemy.y + gameState.enemy.height/2)
                ) < 100;
                
                if (playerInLine || Math.random() < 0.5) {
                    shootEnemy();
                    gameState.enemy.lastShot = now;
                }
            }

            // Ø­Ø±Ú©Øª ØªÛŒØ±Ù‡Ø§
            gameState.player.bullets.forEach(bullet => {
                bullet.x += bullet.speed;
            });

            gameState.enemy.bullets.forEach(bullet => {
                bullet.x -= bullet.speed;
            });

            // ØªØ´Ø®ÛŒØµ Ø¨Ø±Ø®ÙˆØ±Ø¯ ØªÛŒØ±Ù‡Ø§
            checkCollisions();

            // Ø­Ø°Ù ØªÛŒØ±Ù‡Ø§ÛŒ Ø®Ø§Ø±Ø¬ Ø§Ø² ØµÙØ­Ù‡
            gameState.player.bullets = gameState.player.bullets.filter(bullet => 
                bullet.x < canvas.width + 50);
                
            gameState.enemy.bullets = gameState.enemy.bullets.filter(bullet => 
                bullet.x > -50);

            // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ
            if (gameState.player.health <= 0 || gameState.enemy.health <= 0) {
                endGame();
            }

            // Ø¨Ù‡ Ø±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø³Ù„Ø§Ù…Øª
            playerHealthEl.textContent = gameState.player.health;
            enemyHealthEl.textContent = gameState.enemy.health;
        }

        function checkCollisions() {
            // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ø¯Ø´Ù…Ù†
            gameState.player.bullets.forEach((bullet, index) => {
                if (isColliding(bullet, gameState.enemy)) {
                    gameState.enemy.health -= 12;
                    gameState.player.bullets.splice(index, 1);
                    createHitEffect(bullet.x, bullet.y, '#00ff00');
                }
            });

            // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø´Ù…Ù† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
            gameState.enemy.bullets.forEach((bullet, index) => {
                if (isColliding(bullet, gameState.player)) {
                    gameState.player.health -= 10;
                    gameState.enemy.bullets.splice(index, 1);
                    createHitEffect(bullet.x, bullet.y, '#ff0000');
                }
            });
        }

        function isColliding(rect1, rect2) {
            return rect1.x < rect2.x + rect2.width &&
                   rect1.x + rect1.width > rect2.x &&
                   rect1.y < rect2.y + rect2.height &&
                   rect1.y + rect1.height > rect2.y;
        }

        function createHitEffect(x, y, color) {
            for (let i = 0; i < 10; i++) {
                gameState.confetti.push({
                    x: x,
                    y: y,
                    color: color,
                    size: Math.random() * 8 + 4,
                    speedX: (Math.random() - 0.5) * 10,
                    speedY: (Math.random() - 0.5) * 10,
                    life: 30
                });
            }
        }

        function createConfetti() {
            for (let i = 0; i < 300; i++) {
                gameState.confetti.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * -100,
                    color: `hsl(${Math.random() * 360}, 100%, 50%)`,
                    size: Math.random() * 15 + 5,
                    speedX: (Math.random() - 0.5) * 4,
                    speedY: Math.random() * 8 + 4,
                    rotation: Math.random() * Math.PI * 2,
                    rotationSpeed: (Math.random() - 0.5) * 0.2,
                    life: 100 + Math.random() * 100
                });
            }
        }

        function updateConfetti() {
            for (let i = gameState.confetti.length - 1; i >= 0; i--) {
                const c = gameState.confetti[i];
                c.x += c.speedX;
                c.y += c.speedY;
                c.rotation += c.rotationSpeed;
                c.life--;
                
                if (c.life <= 0) {
                    gameState.confetti.splice(i, 1);
                }
            }
        }

        function drawConfetti() {
            gameState.confetti.forEach(c => {
                ctx.save();
                ctx.translate(c.x, c.y);
                ctx.rotate(c.rotation);
                ctx.fillStyle = c.color;
                ctx.fillRect(-c.size/2, -c.size/2, c.size, c.size);
                ctx.restore();
            });
        }

        function endGame() {
            gameState.gameOver = true;
            createConfetti();
            
            if (gameState.player.health <= 0) {
                resultTextEl.textContent = 'Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!';
            } else {
                resultTextEl.textContent = 'Ø¢ÙØ±ÛŒÙ†! Ø´Ù…Ø§ Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ± Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯';
            }
            
            gameOverEl.style.display = 'block';
        }

        function draw() {
            // Ø±Ø³Ù… Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
            ctx.drawImage(images.background, 0, 0, canvas.width, canvas.height);

            // Ø±Ø³Ù… Ø¨Ø§Ø²ÛŒÚ©Ù†
            ctx.drawImage(images.player, 
                         gameState.player.x, 
                         gameState.player.y, 
                         gameState.player.width, 
                         gameState.player.height);

            // Ø±Ø³Ù… Ø¯Ø´Ù…Ù†
            ctx.drawImage(images.enemy, 
                         gameState.enemy.x, 
                         gameState.enemy.y, 
                         gameState.enemy.width, 
                         gameState.enemy.height);

            // Ø±Ø³Ù… ØªÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù†
            gameState.player.bullets.forEach(bullet => {
                ctx.drawImage(images.playerBullet, bullet.x, bullet.y, bullet.width, bullet.height);
            });

            // Ø±Ø³Ù… ØªÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø´Ù…Ù†
            gameState.enemy.bullets.forEach(bullet => {
                ctx.drawImage(images.enemyBullet, bullet.x, bullet.y, bullet.width, bullet.height);
            });

            // Ù†Ù…Ø§ÛŒØ´ ÙØ´ÙØ´Ù‡
            updateConfetti();
            drawConfetti();
        }

        function restartGame() {
            gameState.player = {
                ...gameState.player,
                x: 100,
                y: 300,
                health: 100,
                bullets: [],
                lastShot: 0
            };
            gameState.enemy = {
                ...gameState.enemy,
                x: 700,
                y: 300,
                health: 100,
                bullets: [],
                targetY: 300,
                lastShot: 0
            };
            gameState.gameOver = false;
            gameState.confetti = [];
            gameOverEl.style.display = 'none';
        }

        // Ø­Ù„Ù‚Ù‡ Ø¨Ø§Ø²ÛŒ
        function gameLoop(timestamp) {
            update(timestamp);
            draw();
            requestAnimationFrame(gameLoop);
        }

        // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ù¾Ø³ Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµØ§ÙˆÛŒØ±
        let imagesLoaded = 0;
        function checkImagesLoaded() {
            imagesLoaded++;
            if (imagesLoaded === 5) {
                // ØªÙ†Ø¸ÛŒÙ… Ù…ÙˆÙ‚Ø¹ÛŒØª Ø§ÙˆÙ„ÛŒÙ‡ Ø¯Ø´Ù…Ù†
                gameState.enemy.targetY = gameState.enemy.y;
                requestAnimationFrame(gameLoop);
            }
        }

        images.player.onload = checkImagesLoaded;
        images.enemy.onload = checkImagesLoaded;
        images.background.onload = checkImagesLoaded;
        images.playerBullet.onload = checkImagesLoaded;
        images.enemyBullet.onload = checkImagesLoaded;
        
        images.player.onerror = () => {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± Ø¨Ø§Ø²ÛŒÚ©Ù†');
            checkImagesLoaded();
        };
        images.enemy.onerror = () => {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± Ø¯Ø´Ù…Ù†');
            checkImagesLoaded();
        };
        images.background.onerror = () => {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡');
            checkImagesLoaded();
        };
        images.playerBullet.onerror = () => {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± ØªÛŒØ± Ø¨Ø§Ø²ÛŒÚ©Ù†');
            checkImagesLoaded();
        };
        images.enemyBullet.onerror = () => {
            console.log('Ø®Ø·Ø§ Ø¯Ø± Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØªØµÙˆÛŒØ± ØªÛŒØ± Ø¯Ø´Ù…Ù†');
            checkImagesLoaded();
        };
    </script>
</body>
</html>
<style>
    /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ Ù…ÙˆØ¨Ø§ÛŒÙ„ - Ù†Ø³Ø®Ù‡ Ù†Ù‡Ø§ÛŒÛŒ */
    .mobile-control {
      display: none;
      position: fixed;
      z-index: 100;
      pointer-events: auto;
      user-select: none;
    }
  
    #direction-btns {
  left: 560px;
  bottom: 200px;
  display: flex;
  flex-direction: column;
  gap: 0;
}

#up-btn {
  transform: translateY(-60px); /* Ø¨Ø§Ù„Ø§ Ø¨Ø±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ø¨Ø§Ù„Ø§ */
}

#down-btn {
  transform: translateY(60px); /* Ù¾Ø§ÛŒÛŒÙ† Ø¢ÙˆØ±Ø¯Ù† Ø¯Ú©Ù…Ù‡ Ù¾Ø§ÛŒÛŒÙ† */
}
  
    #up-btn, #down-btn {
      width: 100px;
      height: 100px;
      background-color: rgba(0, 0, 255, 0.5);
      border-radius: 30px;
      display: flex;
      justify-content: center;
      align-items: center;
      color: white;
      font-size: 40px;
      border: 2px solid white;
    }
  
    #fire-btn {
      right: -400px;
      bottom: 130px;
      width: 80px;
      height: 80px;
      background-color: rgba(255, 0, 0, 0.5);
      border-radius: 50%;
      background-image: url('https://cdn-icons-png.flaticon.com/512/785/785116.png');
      background-size: 50%;
      background-position: center;
      background-repeat: no-repeat;
      border: 2px solid white;
    }
  
    #enter-btn {
      bottom: 20px;
      left: 100%;
      transform: translateX(-50%);
      width: 120px;
      height: 60px;
      background-color: rgba(0, 255, 0, 0.5);
      border-radius: 30px;
      color: white;
      font-size: 18px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: 2px solid white;
    }
  
    /* ÙÙ‚Ø· Ø¯Ø± Ø¯Ø³ØªÚ¯Ø§Ù‡â€ŒÙ‡Ø§ÛŒ Ù„Ù…Ø³ÛŒ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ø´ÙˆØ¯ */
    @media (hover: none) and (pointer: coarse) {
      .mobile-control {
        display: flex;
      }
    }
  </style>
  
  <!-- Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† HTML Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù† ØªÚ¯ body -->
  <div id="direction-btns" class="mobile-control">
    <div id="up-btn" class="mobile-control">â†‘</div>
    <div id="down-btn" class="mobile-control">â†“</div>
  </div>
  <div id="fire-btn" class="mobile-control"></div>
  <div id="enter-btn" class="mobile-control">ENTER</div>
  
  <script>
  // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ú©Ø¯ Ø¨Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø¨Ø§Ø²ÛŒ
  
  // ØªØ´Ø®ÛŒØµ Ù…ÙˆØ¨Ø§ÛŒÙ„
  const isMobile = ('ontouchstart' in window) || (navigator.maxTouchPoints > 0);
  
  if (isMobile) {
    // ØªÙ†Ø¸ÛŒÙ… Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ Ù„Ù…Ø³ÛŒ
    const upBtn = document.getElementById('up-btn');
    const downBtn = document.getElementById('down-btn');
    const fireBtn = document.getElementById('fire-btn');
    const enterBtn = document.getElementById('enter-btn');
    
    // Ø­Ø±Ú©Øª Ø¨Ø§Ù„Ø§
    const startMoveUp = (e) => {
      if (e) e.preventDefault();
      gameState.keys['w'] = true;
    };
    
    const stopMoveUp = (e) => {
      if (e) e.preventDefault();
      gameState.keys['w'] = false;
    };
    
    // Ø­Ø±Ú©Øª Ù¾Ø§ÛŒÛŒÙ†
    const startMoveDown = (e) => {
      if (e) e.preventDefault();
      gameState.keys['s'] = true;
    };
    
    const stopMoveDown = (e) => {
      if (e) e.preventDefault();
      gameState.keys['s'] = false;
    };
    
    // ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒ
    const fire = (e) => {
      if (e) e.preventDefault();
      const now = Date.now();
      if (now - gameState.player.lastShot > gameState.player.shotDelay) {
        shootPlayer();
        gameState.player.lastShot = now;
      }
    };
    
    // Ø´Ø±ÙˆØ¹ Ù…Ø¬Ø¯Ø¯
    const enter = (e) => {
      if (e) e.preventDefault();
      if (gameState.gameOver) {
        restartGame();
      }
    };
    
    // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù„Ù…Ø³ÛŒ
    upBtn.addEventListener('touchstart', startMoveUp);
    upBtn.addEventListener('touchend', stopMoveUp);
    downBtn.addEventListener('touchstart', startMoveDown);
    downBtn.addEventListener('touchend', stopMoveDown);
    fireBtn.addEventListener('touchstart', fire);
    enterBtn.addEventListener('touchstart', enter);
    
    // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ú©Ù„ÛŒÚ© Ø¨Ø±Ø§ÛŒ ØªØ³Øª Ø¯Ø± Ø¯Ø³Ú©ØªØ§Ù¾
    upBtn.addEventListener('mousedown', startMoveUp);
    upBtn.addEventListener('mouseup', stopMoveUp);
    downBtn.addEventListener('mousedown', startMoveDown);
    downBtn.addEventListener('mouseup', stopMoveDown);
    fireBtn.addEventListener('click', fire);
    enterBtn.addEventListener('click', enter);
    
    // ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù…Ø®ØµÙˆØµ Ù…ÙˆØ¨Ø§ÛŒÙ„
    function resizeForMobile() {
      const controlsHeight = 120;
      const windowHeight = window.innerHeight;
      
      canvas.width = Math.min(window.innerWidth, 800);
      canvas.height = windowHeight - controlsHeight;
      
      // ØªØºÛŒÛŒØ± Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…ØªÙ†Ø§Ø³Ø¨
      const scaleFactor = Math.min(window.innerWidth / 800, (windowHeight - controlsHeight) / 600);
      const fontSize = Math.max(16, 16 * scaleFactor);
      
      document.getElementById('gameInfo').style.fontSize = `${fontSize}px`;
    }
    
    resizeForMobile();
    window.addEventListener('resize', resizeForMobile);
  }
  </script>
  <style>
    /* Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù¾ÛŒØ´â€ŒÙØ±Ø¶ */
    #direction-btns, #fire-btn, #enter-btn {
      display: none;
    }
  
    /* Ù†Ù…Ø§ÛŒØ´ ÙÙ‚Ø· Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
    @media (max-width: 768px), (hover: none) and (pointer: coarse) {
      #direction-btns {
        display: flex;
        position: fixed;
        left: 560px;
        bottom: 200px;
        flex-direction: column;
        gap: 30px;
        z-index: 1000;
      }
      
      #fire-btn {
        display: flex;
        position: fixed;
        right: -400px;
        bottom: 130px;
        width: 100px;
        height: 100px;
      }
      
      #enter-btn {
        display: flex;
        position: fixed;
        bottom: 20px;
        left: 100%;
        transform: translateX(-50%);
      }
    }
  </style>
<!-- Ø§ÛŒÙ† Ú©Ø¯ Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² ØªÚ¯ <script> Ù¾Ø§ÛŒØ§Ù†ÛŒ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ -->
    <style>
        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ø¬Ø¯ÛŒØ¯ */
        #mainMenu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            flex-direction: column;
        }
        
        #startBtn {
            background: linear-gradient(135deg, #4CAF50, #2E7D32);
            color: white;
            border: none;
            padding: 20px 60px;
            font-size: 28px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            margin: 10px;
        }
        
        #startBtn:hover {
            transform: scale(1.1);
            box-shadow: 0 8px 20px rgba(0,0,0,0.4);
        }
        
        #difficultyMenu {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            flex-direction: column;
        }
        
        .difficultyBtn {
            background: linear-gradient(135deg, #2196F3, #0D47A1);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 20px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            margin: 10px;
            width: 200px;
        }
        
        .difficultyBtn:hover {
            transform: scale(1.05);
        }
        
        #easyBtn { background: linear-gradient(135deg, #4CAF50, #2E7D32); }
        #mediumBtn { background: linear-gradient(135deg, #FFA500, #FF8C00); }
        #hardBtn { background: linear-gradient(135deg, #FF4500, #FF0000); }
        #backBtn { background: linear-gradient(135deg, #9E9E9E, #616161); }
        
        #gameTitle {
            color: white;
            font-size: 48px;
            margin-bottom: 50px;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
        
        #difficultyTitle {
            color: white;
            font-size: 36px;
            margin-bottom: 30px;
            text-shadow: 0 0 10px rgba(255,255,255,0.5);
        }
    </style>
    
    <!-- Ù…Ù†ÙˆÛŒ Ø§ØµÙ„ÛŒ -->
    <div id="mainMenu">
        <h1 id="gameTitle">Ù†Ø¨Ø±Ø¯ Ù†Ù‡Ø§ÛŒÛŒ</h1>
        <button id="startBtn">Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ</button>
    </div>
    
    <!-- Ù…Ù†ÙˆÛŒ Ø³Ø·Ø­ Ø³Ø®ØªÛŒ -->
    <div id="difficultyMenu">
        <h1 id="difficultyTitle">Ø³Ø·Ø­ Ø³Ø®ØªÛŒ Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯</h1>
        <button id="easyBtn" class="difficultyBtn">Ø¢Ø³Ø§Ù†</button>
        <button id="mediumBtn" class="difficultyBtn">Ù…ØªÙˆØ³Ø·</button>
        <button id="hardBtn" class="difficultyBtn">Ø³Ø®Øª</button>
        <button id="backBtn" class="difficultyBtn">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
    </div>
    
    <script>
    // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ø²ÛŒ Ø¯Ø± Ø§Ø¨ØªØ¯Ø§
    document.getElementById('gameCanvas').style.display = 'none';
    document.getElementById('gameInfo').style.display = 'none';
    document.getElementById('gameOver').style.display = 'none';
    
    // ØªØ¹Ø±ÛŒÙ Ø³Ø·Ø­ Ø³Ø®ØªÛŒ
    const difficultySettings = {
        easy: { damage: 10, speed: 4, health: 90, shotDelay: 1500 },
        medium: { damage: 20, speed: 5, health: 100, shotDelay: 1200 },
        hard: { damage: 35, speed: 6, health: 110, shotDelay: 700 }
    };
    
    let currentDifficulty = 'medium';
    
    // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù…Ù†Ùˆ
    document.getElementById('startBtn').addEventListener('click', function() {
        document.getElementById('mainMenu').style.display = 'none';
        document.getElementById('difficultyMenu').style.display = 'flex';
    });
    
    document.getElementById('backBtn').addEventListener('click', function() {
        document.getElementById('difficultyMenu').style.display = 'none';
        document.getElementById('mainMenu').style.display = 'flex';
    });
    
    // Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø³Ø·Ø­ Ø³Ø®ØªÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
    function startGame(difficulty) {
        currentDifficulty = difficulty;
        const settings = difficultySettings[difficulty];
        
        // Ø§Ø¹Ù…Ø§Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª
        gameState.enemy.speed = settings.speed;
        gameState.enemy.health = settings.health;
        gameState.enemy.shotDelay = settings.shotDelay;
        
        // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù…Ù†Ùˆ
        document.getElementById('difficultyMenu').style.display = 'none';
        
        // Ù†Ù…Ø§ÛŒØ´ Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ø²ÛŒ
        document.getElementById('gameCanvas').style.display = 'block';
        document.getElementById('gameInfo').style.display = 'block';
        
        // Ø±ÛŒØ³Øª Ø¨Ø§Ø²ÛŒ
        restartGame();
    }
    
    // Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§ÛŒ Ø³Ø·Ø­ Ø³Ø®ØªÛŒ
    document.getElementById('easyBtn').addEventListener('click', function() {
        startGame('easy');
    });
    
    document.getElementById('mediumBtn').addEventListener('click', function() {
        startGame('medium');
    });
    
    document.getElementById('hardBtn').addEventListener('click', function() {
        startGame('hard');
    });
    
    // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ checkCollisions Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ø¢Ø³ÛŒØ¨ Ù…ØªÙ†Ø§Ø³Ø¨
    const originalCheckCollisions = checkCollisions;
    checkCollisions = function() {
        // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ø¯Ø´Ù…Ù†
        for (let i = gameState.player.bullets.length - 1; i >= 0; i--) {
            const bullet = gameState.player.bullets[i];
            if (isColliding(bullet, gameState.enemy)) {
                gameState.enemy.health -= 12;
                gameState.player.bullets.splice(i, 1);
                createHitEffect(bullet.x, bullet.y, '#00ff00');
                
                if (gameState.enemy.health <= 0) {
                    endGame(false); // Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¨Ø±Ø¯ Ø¨Ø§Ø²ÛŒÚ©Ù†
                    return;
                }
            }
        }
    
        // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø´Ù…Ù† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
        for (let i = gameState.enemy.bullets.length - 1; i >= 0; i--) {
            const bullet = gameState.enemy.bullets[i];
            if (isColliding(bullet, gameState.player)) {
                gameState.player.health -= difficultySettings[currentDifficulty].damage;
                gameState.enemy.bullets.splice(i, 1);
                createHitEffect(bullet.x, bullet.y, '#ff0000');
                
                if (gameState.player.health <= 0) {
                    endGame(true); // Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ Ø¨Ø§ Ø¨Ø§Ø®Øª Ø¨Ø§Ø²ÛŒÚ©Ù†
                    return;
                }
            }
        }
    };
    
    // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ endGame Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡
    const originalEndGame = endGame;
    endGame = function(playerLost) {
        originalEndGame();
        
        if (playerLost) {
            resultTextEl.textContent = 'Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ± Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯!';
        } else {
            resultTextEl.textContent = 'Ø¢ÙØ±ÛŒÙ†! Ø´Ù…Ø§ Ø¨Ø±Ù†Ø¯Ù‡ Ø´Ø¯ÛŒØ¯';
        }
        
        // Ù†Ù…Ø§ÛŒØ´ ØµÙØ­Ù‡ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ
        gameOverEl.style.display = 'block';
    };
    </script>
    <!-- Ø§ÛŒÙ† Ú©Ø¯ Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ style Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ -->
<style>
    /* Ø§Ø³ØªØ§ÛŒÙ„ Ø¨Ø®Ø´ Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ú©ÛŒÙ† */
    #skinMenu {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0,0,0,0.9);
        display: none;
        justify-content: center;
        align-items: center;
        z-index: 1001;
        flex-direction: column;
    }
    
    .skin-option {
        width: 150px;
        height: 150px;
        margin: 15px;
        border: 3px solid transparent;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.3s;
        background-size: cover;
        background-position: center;
    }
    
    .skin-option:hover {
        transform: scale(1.1);
        border-color: #4CAF50;
    }
    
    .skin-option.selected {
        border-color: #FFD700;
        box-shadow: 0 0 20px #FFD700;
    }
    
    #skinTitle {
        color: white;
        font-size: 36px;
        margin-bottom: 30px;
        text-shadow: 0 0 10px rgba(255,255,255,0.5);
    }
    
    #skinContainer {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        max-width: 800px;
    }
    
    #skinBackBtn {
        background: linear-gradient(135deg, #9E9E9E, #616161);
        color: white;
        border: none;
        padding: 12px 30px;
        font-size: 18px;
        border-radius: 50px;
        cursor: pointer;
        margin-top: 30px;
    }
</style>

<!-- Ø§ÛŒÙ† Ú©Ø¯ Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù† ØªÚ¯ body Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ -->
<div id="skinMenu">
    <h1 id="skinTitle">Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ú©ÛŒÙ† Ø´Ø®ØµÛŒØª</h1>
    <div id="skinContainer">
        <div class="skin-option selected" data-skin="default" style="background-image: url('https://www.dropbox.com/scl/fi/81uhhp16tvav7lroqysim/player.png?rlkey=5sfcisnzwjjyoc3jbqevt9w21&st=8ggqqfaw&dl=1')"></div>
        <div class="skin-option" data-skin="warrior" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbDt-3UhfO1dYz_MusRNIGXA2jDnPiGLNhqQ&s')"></div>
        <div class="skin-option" data-skin="ninja" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZLJznqIQJJiIQH2jxXS4DGWBDjN6B1SkJDg&s')"></div>
        <div class="skin-option" data-skin="robot" style="background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZLJznqIQJJiIQH2jxXS4DGWBDjN6B1SkJDg&s')"></div>
    </div>
    <button id="skinBackBtn">Ø¨Ø§Ø²Ú¯Ø´Øª</button>
</div>

<!-- Ø§ÛŒÙ† Ú©Ø¯ Ø±Ø§ Ø¯Ø± Ø¨Ø®Ø´ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†ÛŒØ¯ -->
<script>
// Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ø§Ø³Ú©ÛŒÙ†
let currentSkin = 'default';
const skinOptions = {
    default: {
        player: 'https://www.dropbox.com/scl/fi/81uhhp16tvav7lroqysim/player.png?rlkey=5sfcisnzwjjyoc3jbqevt9w21&st=8ggqqfaw&dl=1',
        bullet: 'https://www.dropbox.com/scl/fi/xpjdral0g4vrgcp8875yh/imeages.png?rlkey=2mciz8v8tmk6crqohk2hidma3&st=5ws5212g&dl=1'
    },
    warrior: {
        player: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbDt-3UhfO1dYz_MusRNIGXA2jDnPiGLNhqQ&s',
        bullet: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTWH9GW4MIL4Y4dPEETep7ksnMRQ0UrbuQ0hQ&s'
    },
    ninja: {
        player: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZLJznqIQJJiIQH2jxXS4DGWBDjN6B1SkJDg&s',
        bullet: 'https://www.dropbox.com/scl/fi/xpjdral0g4vrgcp8875yh/imeages.png?rlkey=2mciz8v8tmk6crqohk2hidma3&st=5ws5212g&dl=1'
    },
    robot: {
        player: 'https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQZLJznqIQJJiIQH2jxXS4DGWBDjN6B1SkJDg&s',
        bullet: 'https://www.dropbox.com/scl/fi/xpjdral0g4vrgcp8875yh/imeages.png?rlkey=2mciz8v8tmk6crqohk2hidma3&st=5ws5212g&dl=1'
    }
};

// Ø±ÙˆÛŒØ¯Ø§Ø¯Ù‡Ø§ÛŒ Ù…Ù†ÙˆÛŒ Ø§Ø³Ú©ÛŒÙ†
document.getElementById('startBtn').addEventListener('click', function() {
    document.getElementById('mainMenu').style.display = 'none';
    document.getElementById('skinMenu').style.display = 'flex';
});

document.getElementById('skinBackBtn').addEventListener('click', function() {
    document.getElementById('skinMenu').style.display = 'none';
    document.getElementById('mainMenu').style.display = 'flex';
});

// Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ú©ÛŒÙ†
document.querySelectorAll('.skin-option').forEach(option => {
    option.addEventListener('click', function() {
        // Ø­Ø°Ù Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø² Ù‡Ù…Ù‡ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§
        document.querySelectorAll('.skin-option').forEach(opt => {
            opt.classList.remove('selected');
        });
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ Ú¯Ø²ÛŒÙ†Ù‡ ÙØ¹Ù„ÛŒ
        this.classList.add('selected');
        currentSkin = this.getAttribute('data-skin');
        
        // ØªØºÛŒÛŒØ± ØªØµØ§ÙˆÛŒØ± Ø¨Ø§Ø²ÛŒ
        images.player.src = skinOptions[currentSkin].player;
        images.playerBullet.src = skinOptions[currentSkin].bullet;
        
        // Ù†Ù…Ø§ÛŒØ´ Ù…Ù†ÙˆÛŒ Ø³Ø·Ø­ Ø³Ø®ØªÛŒ Ù¾Ø³ Ø§Ø² Ø§Ù†ØªØ®Ø§Ø¨ Ø§Ø³Ú©ÛŒÙ†
        setTimeout(() => {
            document.getElementById('skinMenu').style.display = 'none';
            document.getElementById('difficultyMenu').style.display = 'flex';
        }, 500);
    });
});

// ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ startGame Ø¨Ø±Ø§ÛŒ Ø§Ø¹Ù…Ø§Ù„ Ø§Ø³Ú©ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
const originalStartGame = startGame;
startGame = function(difficulty) {
    originalStartGame(difficulty);
    
    // Ø§Ø¹Ù…Ø§Ù„ Ø§Ø³Ú©ÛŒÙ† Ø§Ù†ØªØ®Ø§Ø¨ Ø´Ø¯Ù‡
    images.player.src = skinOptions[currentSkin].player;
    images.playerBullet.src = skinOptions[currentSkin].bullet;
};
</script>
<script>
    // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ endGame Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªÛŒØ¬Ù‡ ØµØ­ÛŒØ­
    endGame = function() {
        gameState.gameOver = true;
        createConfetti();
        
        if (gameState.player.health <= 0) {
            resultTextEl.textContent = 'Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ± Ø´Ù…Ø§ Ø±Ø§ Ù†Ø§Ø¨ÙˆØ¯ Ú©Ø±Ø¯! Ø¯ÙˆØ¨Ø§Ø±Ù‡ ØªÙ„Ø§Ø´ Ú©Ù†ÛŒØ¯';
        } else {
            resultTextEl.textContent = 'Ø¢ÙØ±ÛŒÙ†! Ø´Ù…Ø§ Ø¢Ù‚Ø§ÛŒ Ø§ÛŒØ²Ø¯ÙØ± Ø±Ø§ Ø´Ú©Ø³Øª Ø¯Ø§Ø¯ÛŒØ¯';
        }
        
        gameOverEl.style.display = 'block';
    };
    
    // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ checkCollisions Ø¨Ø±Ø§ÛŒ Ù¾Ø§ÛŒØ§Ù† ØµØ­ÛŒØ­ Ø¨Ø§Ø²ÛŒ
    checkCollisions = function() {
        // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒÚ©Ù† Ø¨Ù‡ Ø¯Ø´Ù…Ù†
        gameState.player.bullets.forEach((bullet, index) => {
            if (isColliding(bullet, gameState.enemy)) {
                gameState.enemy.health -= 12;
                gameState.player.bullets.splice(index, 1);
                createHitEffect(bullet.x, bullet.y, '#00ff00');
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ Ø§Ú¯Ø± Ø³Ù„Ø§Ù…Øª Ø¯Ø´Ù…Ù† ØªÙ…Ø§Ù… Ø´Ø¯
                if (gameState.enemy.health <= 0) {
                    endGame();
                    return;
                }
            }
        });
    
        // ØªÛŒØ±Ù‡Ø§ÛŒ Ø¯Ø´Ù…Ù† Ø¨Ù‡ Ø¨Ø§Ø²ÛŒÚ©Ù†
        gameState.enemy.bullets.forEach((bullet, index) => {
            if (isColliding(bullet, gameState.player)) {
                gameState.player.health -= difficultySettings[currentDifficulty].damage;
                gameState.enemy.bullets.splice(index, 1);
                createHitEffect(bullet.x, bullet.y, '#ff0000');
                
                // Ø¨Ø±Ø±Ø³ÛŒ Ù¾Ø§ÛŒØ§Ù† Ø¨Ø§Ø²ÛŒ Ø§Ú¯Ø± Ø³Ù„Ø§Ù…Øª Ø¨Ø§Ø²ÛŒÚ©Ù† ØªÙ…Ø§Ù… Ø´Ø¯
                if (gameState.player.health <= 0) {
                    endGame();
                    return;
                }
            }
        });
    };
    </script>
    <style>
        /* Ø§Ø³ØªØ§ÛŒÙ„ ØµÙØ­Ù‡ Ø§Ø³Ù¾Ù„Ø´ Ø¨Ø§ ØªØ¶Ù…ÛŒÙ† Ù†Ù…Ø§ÛŒØ´ ØªØµÙˆÛŒØ± */
        #splashScreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: black;
            z-index: 9999;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        
        #splashImage {
            width: 100%;
            height: 100%;
            object-fit: contain;
            opacity: 1;
            transition: opacity 1.5s ease-out;
        }
    </style>
    
    <div id="splashScreen">
        <img id="splashImage" src="https://www.dropbox.com/scl/fi/jg2qkhaf886mh4ijb4gbh/170105c9-c66a-4ba1-83c7-cf58fa887b31.png?rlkey=ekig4rkarsuor3h4es0lukrdp&st=cnrhnv48&dl=1" alt="Ù„ÙˆÚ¯ÙˆÛŒ Ø¨Ø§Ø²ÛŒ">
    </div>
    
    <script>
        // Ø§Ø¨ØªØ¯Ø§ Ù…Ø·Ù…Ø¦Ù† Ù…ÛŒØ´ÙˆÛŒÙ… ØªØµÙˆÛŒØ± Ù„ÙˆØ¯ Ø´Ø¯Ù‡ Ø§Ø³Øª
        document.getElementById('splashImage').onload = function() {
            // Ù¾Ø³ Ø§Ø² 3 Ø«Ø§Ù†ÛŒÙ‡ ØªØµÙˆÛŒØ± Ø±Ø§ Ù…Ø­Ùˆ Ù…ÛŒÚ©Ù†ÛŒÙ…
            setTimeout(() => {
                document.getElementById('splashImage').style.opacity = '0';
                
                // Ù¾Ø³ Ø§Ø² Ø§ØªÙ…Ø§Ù… Ø§Ù†ÛŒÙ…ÛŒØ´Ù† Ù…Ø­Ùˆ Ø´Ø¯Ù†
                setTimeout(() => {
                    document.getElementById('splashScreen').style.display = 'none';
                    document.getElementById('mainMenu').style.display = 'flex';
                }, 1500);
            }, 3000);
        };
        
        // Ø§Ú¯Ø± ØªØµÙˆÛŒØ± Ù„ÙˆØ¯ Ù†Ø´Ø¯
        document.getElementById('splashImage').onerror = function() {
            document.getElementById('splashScreen').style.display = 'none';
            document.getElementById('mainMenu').style.display = 'flex';
        };
    </script>
    <style>
        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø±ÛŒØ³Ù¾Ø§Ù†Ø³ÛŒÙˆ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @media (max-width: 768px), (orientation: portrait) {
            #gameCanvas {
                width: 100%;
                height: auto;
                max-height: 80vh;
                margin: 10px auto;
            }
            
            #gameInfo {
                width: 95%;
                font-size: 16px;
                padding: 10px;
                margin: 5px auto;
            }
            
            .skin-option {
                width: 80px;
                height: 80px;
                margin: 8px;
            }
            
            #skinMenu {
                padding: 10px;
            }
            
            #skinTitle {
                font-size: 24px;
                margin-bottom: 15px;
            }
            
            .game-over {
                width: 90%;
                padding: 15px;
            }
            
            .game-over h1 {
                font-size: 28px;
            }
            
            .game-over p {
                font-size: 18px;
            }
        }
    
        /* Ù¾ÛŒØ´Ú¯ÛŒØ±ÛŒ Ø§Ø² Ø²ÙˆÙ… Ù†Ø§Ø®ÙˆØ§Ø³ØªÙ‡ Ø¯Ø± Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        @viewport {
            width: device-width;
            zoom: 1.0;
        }
        
        /* ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØªÚ¯ meta Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„ */
        meta[name="viewport"] {
            content: width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no;
        }
    </style>
    
    <script>
        // ØªØ§Ø¨Ø¹ ØªÙ†Ø¸ÛŒÙ… Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÙ‡Ø§ÛŒ Ø¨Ø§Ø²ÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙˆØ¨Ø§ÛŒÙ„
        function setupMobileLayout() {
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            
            if (isMobile) {
                // ØªÙ†Ø¸ÛŒÙ… Ø§Ù†Ø¯Ø§Ø²Ù‡ Ú©Ø§Ù†ÙˆØ§Ø³
                const canvas = document.getElementById('gameCanvas');
                const windowHeight = window.innerHeight;
                const windowWidth = window.innerWidth;
                
                // Ù…Ø­Ø§Ø³Ø¨Ù‡ Ø§Ù†Ø¯Ø§Ø²Ù‡ Ù…Ù†Ø§Ø³Ø¨
                const scale = Math.min(
                    windowWidth / 800, 
                    (windowHeight - 150) / 600
                );
                
                canvas.width = 800 * scale;
                canvas.height = 600 * scale;
                
                // ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯ ØªØµØ§ÙˆÛŒØ±
                gameState.player.width = 70 * scale;
                gameState.player.height = 70 * scale;
                gameState.enemy.width = 70 * scale;
                gameState.enemy.height = 70 * scale;
                
                // ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯ Ù…ÙˆÙ‚Ø¹ÛŒØªâ€ŒÙ‡Ø§
                gameState.player.x = 100 * scale;
                gameState.enemy.x = canvas.width - (100 * scale);
                
                // ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯ Ø³Ø±Ø¹Øªâ€ŒÙ‡Ø§
                gameState.player.speed = 7 * scale;
                gameState.enemy.speed = 5 * scale;
            }
        }
    
        // ÙØ±Ø§Ø®ÙˆØ§Ù†ÛŒ ØªØ§Ø¨Ø¹ Ù‡Ù†Ú¯Ø§Ù… Ù„ÙˆØ¯ Ùˆ ØªØºÛŒÛŒØ± Ø³Ø§ÛŒØ²
        window.addEventListener('load', setupMobileLayout);
        window.addEventListener('resize', setupMobileLayout);
    </script>
    <script>
        // ======== Ú©Ø¯ Ø§ØµÙ„Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ ========
        
        // Ù…ØªØºÛŒØ±Ù‡Ø§ÛŒ Ú©Ù†ØªØ±Ù„ ÙˆØ¶Ø¹ÛŒØª
        let gameInitialized = false;
        let gameActive = false;
        
        // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ startGame
        function startGame(difficulty) {
            // Ø§Ø¹Ù…Ø§Ù„ ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø³Ø·Ø­ Ø³Ø®ØªÛŒ
            const settings = difficultySettings[difficulty];
            gameState.enemy.speed = settings.speed;
            gameState.enemy.health = settings.health;
            gameState.enemy.shotDelay = settings.shotDelay;
            gameState.enemy.damage = settings.damage;
            
            // Ù…Ø®ÙÛŒ Ú©Ø±Ø¯Ù† Ù…Ù†ÙˆÙ‡Ø§
            document.getElementById('difficultyMenu').style.display = 'none';
            
            // Ù†Ù…Ø§ÛŒØ´ Ø¹Ù†Ø§ØµØ± Ø¨Ø§Ø²ÛŒ
            document.getElementById('gameCanvas').style.display = 'block';
            document.getElementById('gameInfo').style.display = 'block';
            
            // Ø±ÛŒØ³Øª ÙˆØ¶Ø¹ÛŒØª Ø¨Ø§Ø²ÛŒ
            restartGame();
            
            // Ø¹Ù„Ø§Ù…ØªÚ¯Ø°Ø§Ø±ÛŒ Ø´Ø±ÙˆØ¹ Ø¨Ø§Ø²ÛŒ
            gameInitialized = true;
            gameActive = true;
            
            // Ø´Ø±ÙˆØ¹ Ø­Ù„Ù‚Ù‡ Ø¨Ø§Ø²ÛŒ
            if (!gameLoopRunning) {
                gameLoopRunning = true;
                requestAnimationFrame(gameLoop);
            }
        }
        
        // ØªØºÛŒÛŒØ± Ø¯Ø± ØªØ§Ø¨Ø¹ update
        const originalUpdate = update;
        update = function(timestamp) {
            if (gameState.gameOver || !gameActive) return;
            originalUpdate(timestamp);
        };
        
        // ØªØºÛŒÛŒØ± Ø¯Ø± Ú©Ù†ØªØ±Ù„â€ŒÙ‡Ø§ÛŒ ØµÙØ­Ù‡ Ú©Ù„ÛŒØ¯
        window.addEventListener('keydown', (e) => {
            if (!gameActive) return;
            
            const key = e.key.toLowerCase();
            gameState.keys[key] = true;
            
            if (key === 'enter' && gameState.gameOver) {
                restartGame();
            }
        });
        
        // ØªØºÛŒÛŒØ± Ø¯Ø± Ú©Ù†ØªØ±Ù„ Ú©Ù„ÛŒÚ© (ØªÛŒØ±Ø§Ù†Ø¯Ø§Ø²ÛŒ)
        canvas.addEventListener('click', (e) => {
            if (!gameActive || gameState.gameOver) return;
            
            const now = Date.now();
            if (now - gameState.player.lastShot > gameState.player.shotDelay) {
                shootPlayer();
                gameState.player.lastShot = now;
            }
        });
        
        // ======== Ú©Ø¯Ù‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÙˆØ¨Ø§ÛŒÙ„ ========
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ø®Ø· Ø¨Ù‡ ØªØ§Ø¨Ø¹ setupMobileLayout
        function setupMobileLayout() {
            // ... Ú©Ø¯Ù‡Ø§ÛŒ Ù‚Ø¨Ù„ÛŒ ...
            if (isMobile) {
                gameState.player.speed = 5 * scale;
                gameState.enemy.speed = 4 * scale;
            }
        }
        
        // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÛŒÙ† Ø¨Ø®Ø´ Ø¨Ù‡ Ø§Ø³Ú©Ø±ÛŒÙ¾Øª Ù…ÙˆØ¨Ø§ÛŒÙ„
        if (isMobile) {
            document.getElementById('fire-btn').addEventListener('touchstart', function(e) {
                if (!gameActive) {
                    e.preventDefault();
                    return false;
                }
            });
        }
        </script>
        <script>
            // ======== Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ú¯Ø²ÛŒÙ†Ù‡ Coming Soon Ø¨Ù‡ Ù…Ù†ÙˆÛŒ Ø³Ø®ØªÛŒ ========
            
            // 1. Ø§Ø¨ØªØ¯Ø§ Ù…Ø·Ù…Ø¦Ù† Ù…ÛŒâ€ŒØ´ÙˆÛŒÙ… Ù…Ù†ÙˆÛŒ Ø³Ø®ØªÛŒ ÙˆØ¬ÙˆØ¯ Ø¯Ø§Ø±Ø¯
            const difficultyMenu = document.getElementById('difficultyMenu');
            if (difficultyMenu) {
                // 2. Ø§ÛŒØ¬Ø§Ø¯ Ú¯Ø²ÛŒÙ†Ù‡ Ø¬Ø¯ÛŒØ¯
                const comingSoonBtn = document.createElement('button');
                comingSoonBtn.id = 'comingSoonBtn';
                comingSoonBtn.className = 'difficultyBtn';
                comingSoonBtn.innerHTML = 'ğŸ”’ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ... (Ø¯Ø± Ø¢Ù¾Ø¯ÛŒØª Ø¨Ø¹Ø¯ÛŒ) ğŸ”’';
                
                // 3. Ø§Ø³ØªØ§ÛŒÙ„â€ŒØ¯Ù‡ÛŒ Ø¨Ù‡ Ú¯Ø²ÛŒÙ†Ù‡
                comingSoonBtn.style.background = 'linear-gradient(135deg, #333333, #666666)';
                comingSoonBtn.style.cursor = 'not-allowed';
                comingSoonBtn.style.opacity = '0.7';
                comingSoonBtn.style.position = 'relative';
                comingSoonBtn.style.overflow = 'hidden';
                
                // 4. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§ÙÚ©Øª Ø¯Ø±Ø®Ø´Ø´
                const shineEffect = document.createElement('div');
                shineEffect.style.position = 'absolute';
                shineEffect.style.top = '-50%';
                shineEffect.style.left = '-50%';
                shineEffect.style.width = '200%';
                shineEffect.style.height = '200%';
                shineEffect.style.background = 'linear-gradient(to bottom right, rgba(255,255,255,0) 45%, rgba(255,255,255,0.8) 50%, rgba(255,255,255,0) 55%)';
                shineEffect.style.animation = 'shine 3s infinite';
                shineEffect.style.transform = 'rotate(30deg)';
                
                comingSoonBtn.appendChild(shineEffect);
                
                // 5. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø¨Ù‡ Ù…Ù†Ùˆ (Ø¨Ø¹Ø¯ Ø§Ø² Ø¯Ú©Ù…Ù‡ Ø³Ø®Øª)
                const hardBtn = document.getElementById('hardBtn');
                if (hardBtn) {
                    difficultyMenu.insertBefore(comingSoonBtn, hardBtn.nextSibling);
                } else {
                    difficultyMenu.appendChild(comingSoonBtn);
                }
                
                // 6. ØºÛŒØ±ÙØ¹Ø§Ù„ Ú©Ø±Ø¯Ù† Ú©Ù„ÛŒÚ©
                comingSoonBtn.addEventListener('click', function(e) {
                    e.preventDefault();
                    alert('Ø³Ø·Ø­ Ø´ÛŒØ·Ø§Ù†ÛŒ Ø¯Ø± Ø¢Ù¾Ø¯ÛŒØª 1.5 Ø§Ø¶Ø§ÙÙ‡ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯!\n\nÙØ¹Ù„Ø§Ù‹ Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ø§Ø² Ø³Ø·Ø­ Ø³Ø®Øª Ù„Ø°Øª Ø¨Ø¨Ø±ÛŒØ¯.');
                    return false;
                });
            }
            
            // 7. Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ø²Ù…
            const style = document.createElement('style');
            style.textContent = `
                @keyframes shine {
                    0% { transform: translateX(-100%) rotate(30deg); }
                    100% { transform: translateX(100%) rotate(30deg); }
                }
                
                #comingSoonBtn:hover {
                    transform: none !important;
                    box-shadow: none !important;
                }
            `;
            document.head.appendChild(style);
            </script>
            <script>
                // ========== Ú©Ø¯ ØµØ¯Ø§Ù‡Ø§ Ø¨Ø§ Ù…Ù†Ø§Ø¨Ø¹ Ø¬Ø¯ÛŒØ¯ ==========
                const gameSounds = {
                  bgMusic: new Audio('https://sedatoseda.com/wp-content/uploads/stranger-things-124008.mp3'),
                  gun: new Audio('https://sedatoseda.com/wp-content/uploads/Police-Sound-Gun1.mp3'),
                  donkey: new Audio('https://sedatoseda.com/wp-content/uploads/donkey-sound1.mp3'),
                  click: new Audio('https://www.soundjay.com/buttons/sounds/button-21.mp3'),
                  sword: new Audio('https://www.soundjay.com/buttons/sounds/button-23.mp3'),
                  laser: new Audio('https://www.soundjay.com/buttons/sounds/button-16.mp3')
                };
                
                // ØªÙ†Ø¸ÛŒÙ…Ø§Øª ØµØ¯Ø§Ù‡Ø§
                let isSoundEnabled = true;
                gameSounds.bgMusic.volume = 0.18;
                gameSounds.gun.volume = 0.20;
                gameSounds.donkey.volume = 0.20;
                gameSounds.click.volume = 0.7;
                gameSounds.sword.volume = 0.8;
                gameSounds.laser.volume = 0.8;
                gameSounds.bgMusic.loop = true;
                
                // ØªØ§Ø¨Ø¹ Ù¾Ø®Ø´ ØµØ¯Ø§ Ø¨Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø·Ø§
                function playSound(soundName) {
                  if (!isSoundEnabled) return;
                  
                  try {
                    const sound = gameSounds[soundName];
                    sound.currentTime = 0;
                    sound.play().catch(e => {
                      console.log('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø®Ø´ ØµØ¯Ø§:', e);
                      // ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯ Ø¨Ø§ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ù…Ø¬Ø¯Ø¯ ØµØ¯Ø§
                      sound.load();
                      sound.play().catch(e => console.log('Ø®Ø·Ø§ Ø¯Ø± ØªÙ„Ø§Ø´ Ù…Ø¬Ø¯Ø¯:', e));
                    });
                  } catch(e) {
                    console.log('Ø®Ø·Ø§ÛŒ Ø¹Ù…ÙˆÙ…ÛŒ Ø¯Ø± Ù¾Ø®Ø´ ØµØ¯Ø§:', e);
                  }
                }
                
                // Ø´Ø±ÙˆØ¹ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
                window.addEventListener('DOMContentLoaded', () => {
                  setTimeout(() => {
                    playSound('bgMusic');
                  }, 1000);
                });
                
                // ØªØºÛŒÛŒØ± ØªØ§Ø¨Ø¹ shootPlayer
                const originalShootPlayer = shootPlayer;
                shootPlayer = function() {
                  if (currentSkin === 'warrior') {
                    playSound('donkey');
                  } else if (currentSkin === 'ninja') {
                    playSound('sword');
                  } else if (currentSkin === 'robot') {
                    playSound('laser');
                  } else {
                    playSound('gun');
                  }
                  originalShootPlayer();
                };
                
                // Ø§ÛŒØ¬Ø§Ø¯ Ø¯Ú©Ù…Ù‡ Ú©Ù†ØªØ±Ù„ ØµØ¯Ø§
                const soundBtn = document.createElement('button');
                soundBtn.id = 'soundControl';
                soundBtn.innerHTML = 'ğŸ”Š';
                soundBtn.style.position = 'fixed';
                soundBtn.style.top = '10px';
                soundBtn.style.left = '10px';
                soundBtn.style.zIndex = '1000';
                soundBtn.style.background = 'rgba(0,0,0,0.7)';
                soundBtn.style.color = 'white';
                soundBtn.style.border = '2px solid white';
                soundBtn.style.borderRadius = '50%';
                soundBtn.style.width = '40px';
                soundBtn.style.height = '40px';
                soundBtn.style.fontSize = '20px';
                soundBtn.style.cursor = 'pointer';
                soundBtn.style.display = 'flex';
                soundBtn.style.alignItems = 'center';
                soundBtn.style.justifyContent = 'center';
                
                // Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù„ÛŒÚ© Ø¯Ú©Ù…Ù‡ ØµØ¯Ø§
                soundBtn.addEventListener('click', function() {
                  isSoundEnabled = !isSoundEnabled;
                  this.innerHTML = isSoundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
                  this.style.color = isSoundEnabled ? 'white' : '#ff0000';
                  
                  if (isSoundEnabled) {
                    playSound('bgMusic');
                  } else {
                    gameSounds.bgMusic.pause();
                  }
                  
                  playSound('click');
                });
                
                document.body.appendChild(soundBtn);
                
                // Ø§Ø¶Ø§ÙÙ‡ Ú©Ø±Ø¯Ù† ØµØ¯Ø§ Ø¨Ù‡ Ú©Ù„ÛŒÙ‡ Ø¯Ú©Ù…Ù‡â€ŒÙ‡Ø§
                document.querySelectorAll('button').forEach(btn => {
                  if (btn.id !== 'soundControl') {
                    btn.addEventListener('click', () => playSound('click'));
                    btn.addEventListener('mouseenter', () => {
                      if (isSoundEnabled) gameSounds.click.currentTime = 0;
                    });
                  }
                });
                </script>
                <script>
                    // ========== Ú©Ø¯ Ø§ØµÙ„Ø§Ø­ÛŒ Ø¨Ø±Ø§ÛŒ ØµØ¯Ø§ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡ ==========
                    const bgMusic = new Audio('https://sedatoseda.com/wp-content/uploads/stranger-things-124008.mp3');
                    bgMusic.volume = 0.3;
                    bgMusic.loop = true;
                    
                    let isSoundEnabled = true;
                    
                    // ØªØ§Ø¨Ø¹ Ø´Ø±ÙˆØ¹ Ø®ÙˆØ¯Ú©Ø§Ø± Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³â€ŒØ²Ù…ÛŒÙ†Ù‡
                    function startBackgroundMusic() {
                      // Ø§ÛŒÙ† ØªØ§Ø¨Ø¹ Ù…Ø´Ú©Ù„ Ù†ÛŒØ§Ø² Ø¨Ù‡ Ú©Ù„ÛŒÚ© Ø§ÙˆÙ„ÛŒÙ‡ Ø±Ø§ Ø­Ù„ Ù…ÛŒâ€ŒÚ©Ù†Ø¯
                      bgMusic.play().catch(e => {
                        console.log('Ø¨Ø±Ø§ÛŒ Ù¾Ø®Ø´ ØµØ¯Ø§ Ù†ÛŒØ§Ø² Ø¨Ù‡ ØªØ¹Ø§Ù…Ù„ Ú©Ø§Ø±Ø¨Ø± Ø§Ø³Øª');
                        // Ø§Ú¯Ø± Ù¾Ø®Ø´ Ù†Ø´Ø¯ØŒ Ø¨Ø¹Ø¯ Ø§Ø² Ø§ÙˆÙ„ÛŒÙ† Ú©Ù„ÛŒÚ© Ú©Ø§Ø±Ø¨Ø± Ø¯ÙˆØ¨Ø§Ø±Ù‡ Ø§Ù…ØªØ­Ø§Ù† Ù…ÛŒâ€ŒÚ©Ù†Ø¯
                        document.addEventListener('click', function tryPlay() {
                          bgMusic.play().then(() => {
                            document.removeEventListener('click', tryPlay);
                          }).catch(e => console.log('Ø®Ø·Ø§ Ø¯Ø± Ù¾Ø®Ø´ ØµØ¯Ø§:', e));
                        }, { once: true });
                      });
                    }
                    
                    // Ø´Ø±ÙˆØ¹ Ù…ÙˆØ³ÛŒÙ‚ÛŒ Ù¾Ø³ Ø§Ø² Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
                    window.addEventListener('DOMContentLoaded', () => {
                      setTimeout(startBackgroundMusic, 1000);
                    });
                    
                    // Ø¯Ú©Ù…Ù‡ Ú©Ù†ØªØ±Ù„ ØµØ¯Ø§
                    const soundBtn = document.createElement('button');
                    soundBtn.innerHTML = 'ğŸ”Š';
                    soundBtn.style.position = 'fixed';
                    soundBtn.style.top = '10px';
                    soundBtn.style.left = '10px';
                    soundBtn.style.zIndex = '1000';
                    soundBtn.style.background = 'rgba(0,0,0,0.7)';
                    soundBtn.style.border = 'none';
                    soundBtn.style.borderRadius = '50%';
                    soundBtn.style.width = '40px';
                    soundBtn.style.height = '40px';
                    soundBtn.style.fontSize = '20px';
                    soundBtn.style.cursor = 'pointer';
                    
                    soundBtn.addEventListener('click', function() {
                      isSoundEnabled = !isSoundEnabled;
                      this.innerHTML = isSoundEnabled ? 'ğŸ”Š' : 'ğŸ”‡';
                      isSoundEnabled ? bgMusic.play() : bgMusic.pause();
                    });
                    
                    document.body.appendChild(soundBtn);
                    </script>